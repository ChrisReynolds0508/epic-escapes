<div class="container mx-auto p-4">
  <h1 class="text-3xl font-bold mb-6">My Reviews</h1>
  <div class="review-list">
    {{#each reviews}}
    <div class="review-item bg-white shadow-md rounded-lg p-6 mb-6" data-id="{{this.id}}">
      <h3 class="text-xl font-semibold mb-2">{{this.city_name}} by {{this.user.name}}</h3>
      <p class="text-gray-700 mb-4">{{this.review}}</p>

      <!-- Display comments -->
      <div class="comment-list bg-gray-100 p-4 rounded-lg" data-id="{{this.id}}">
        {{#each this.comments}}
        <div class="comment-item mb-2">
          <p class="text-gray-600">{{this.comment_text}} <br> <div class="font-semibold text-right"><small>- by {{this.user.name}}</small></div></p>
        </div>
        {{else}}
        <p class="text-gray-500" id="no-comments-{{this.id}}">No comments yet.</p>
        {{/each}}
      </div>

      <!-- Comment form -->
      <form class="new-comment-form mt-4" data-id="{{this.id}}">
        <textarea class="w-full p-2 border border-gray-300 rounded-lg mb-2" name="comment_text"
          id="comment-box-{{this.id}}" placeholder="Add a comment"></textarea>
        <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600" type="submit">Post
          Comment</button>
      </form>
    </div>
    {{else}}
    <p class="text-gray-500">No reviews found.</p>
    {{/each}}
  </div>
</div>
<script src="/js/comment.js"></script>